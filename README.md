# Inception
<details>
<summary>Введение</summary>
Этот проект направлен на расширение ваших знаний в области системного администрирования с помощью Docker. 
Вы будете виртуализировать несколько образов Docker, создав их на своей новой личной виртуальной машине.
</details>
<details>
<summary>Общие рекомендации</summary>

• Этот проект необходимо выполнять на виртуальной машине.

• Все файлы, необходимые для настройки вашего проекта, должны быть помещены в папку srcs.

• Также требуется Makefile, который должен находиться в корне вашего каталога. Он должен настроить все ваше приложение (т. е. он должен создать образы Docker с помощью docker-compose.yml).

• Этот предмет требует применения на практике понятий, которые, в зависимости от вашего образования, вы, возможно, еще не усвоили. Поэтому мы советуем вам без колебаний прочитать много документации, связанной с использованием Docker, а также все, что вы найдете полезным для выполнения этого задания.

</details>
<details>
<summary>Обязательная часть</summary>

Этот проект заключается в том, чтобы вы настроили небольшую инфраструктуру, состоящую из различных сервисов по определенным правилам. 
Весь проект должен быть выполнен в виртуальной машине. Вы должны использовать docker compose.
Каждый образ Docker должен иметь то же имя, что и соответствующая служба.
Каждая служба должна работать в выделенном контейнере.

По соображениям производительности контейнеры должны быть собраны либо из предпоследней стабильной версии Alpine Linux, либо из Debian Buster. Выбор за вами.

Вы также должны написать свои собственные Dockerfiles, по одному на каждую службу. Файлы Dockerfile должны вызываться в вашем файле docker-compose.yml вашим Makefile.
Это означает, что вы должны сами создавать образы Docker для своего проекта. Поэтому запрещается извлекать готовые образы Docker, а также использовать такие сервисы, как DockerHub (Alpine/Debian исключены из этого правила).

Затем необходимо настроить:
* Контейнер Docker, содержащий NGINX только с TLSv1.2 или TLSv1.3.
* Контейнер Docker, содержащий WordPress + php-fpm (он должен быть установлен и настроен) только без nginx.
* Контейнер Docker, содержащий только MariaDB без nginx.
* Том, содержащий вашу базу данных WordPress.
* Второй том, содержащий файлы вашего веб-сайта WordPress.
* Docker-сеть, которая устанавливает соединение между вашими контейнерами.

Ваши контейнеры должны быть перезапущены в случае сбоя.
Контейнер Docker — это не виртуальная машина. Таким образом, не рекомендуется использовать какой-либо хакерский патч, основанный на 'tail -f' и т.д.
при попытке запустить. Прочтите о том, как работают демоны и хорошая идея использовать их или нет.

Конечно, использование network:host или --link или links: запрещено.
Строка network должна присутствовать в вашем файле docker-compose.yml.
Ваши контейнеры не должны запускаться командой, выполняющей бесконечный петля. 
Таким образом, это также относится к любой команде, используемой в качестве точки входа, или используется в сценариях точки входа. 
Ниже приведены несколько запрещенных хакерских патчи:  tail -f, bash, sleep infinity, while true..
Прочтите о PID 1 и лучших методах написания файлов Dockerfile.

* В вашей базе данных WordPress должно быть два пользователя, один из которых является администратором. Имя пользователя администратора не может содержать «admin/Admin» или «admin/Administrator» (например, «admin», «admin», «Administrator», «admin-123» и т. д.).
Ваши тома будут доступны в папке /home/login/data хост-машина с помощью Docker. Конечно, придется заменить логин с твоим.
Чтобы упростить задачу, вы должны настроить свое доменное имя так, чтобы оно указывало на ваш локальный IP-адрес.
Это доменное имя должно быть login.42.fr. Опять же, вы должны использовать свой собственный логин.
Например, если ваш логин wil, wil.42.fr перенаправит вас на IP-адрес, указывающий на веб-сайт wil.
Последний тег запрещен.

В ваших файлах Dockerfile не должно быть пароля.

Обязательно использовать переменные окружения.

Кроме того, настоятельно рекомендуется использовать файл .env для хранения переменного окружения. Файл .env должен находиться в корне каталога srcs.
Ваш контейнер NGINX должен быть единственной точкой входа в вашу инфраструктуру только через порт 443, используя TLSv1.2 или TLSv1.3. протокол.

Вот примерная диаграмма ожидаемого результата

![image](https://user-images.githubusercontent.com/94602550/198024511-20fa2804-4fbd-426f-859b-70d452b295d2.png)


Ниже приведен пример ожидаемой структуры каталогов:

![image](https://user-images.githubusercontent.com/94602550/198024610-9d8dcff0-f84f-4b8b-b18e-7f46db931304.png)

</details>
<details>
<summary>Бонусная часть</summary>
Для этого проекта бонусная часть должна быть простой.
Dockerfile должен быть написан для каждой дополнительной службы. 
Таким образом, каждый из них будет работать внутри своего контейнера и при необходимости будет иметь свой выделенный том.
Список бонусов:

* Настройте кеш Redis для своего веб-сайта WordPress, чтобы правильно управлять кешем.

* Настройте контейнер FTP-сервера, указывающий на объем вашего веб-сайта WordPress.

* Создайте простой статический веб-сайт на выбранном вами языке, кроме PHP (да, PHP исключен!). Например, сайт-витрина или сайт для представления вашего резюме.

* Настроить администратора.

* Настройте услугу по вашему выбору, которую вы считаете полезной. Во время защиты вам придется обосновать свой выбор.


Чтобы завершить бонусную часть, у вас есть возможность установить дополнительные Сервисы. 
В этом случае вы можете открыть больше портов в соответствии с вашими потребностями.
Бонусная часть будет оцениваться только в том случае, если обязательная часть ИДЕАЛЬНО. 
Perfect означает, что обязательная часть была полностью выполнена
и работает без сбоев. Если вы не прошли ВСЕ обязательные требования, ваша бонусная часть вообще не будет оцениваться.
</details>
<details>
<summary>Полезные материалы для изучения </summary>

* [Что такое Докер?](https://badtry.net/docker-tutorial-dlia-novichkov-rassmatrivaiem-docker-tak-iesli-by-on-byl-ighrovoi-pristavkoi/)
* [Docker и Docker-Compose Tutorial (Контейнеры, install, run, image, daemon, etc.)](https://ivan-shamaev.ru/docker-compose-tutorial-container-image-install/)
* [Основные команды для Докер](https://github.com/Sheveleva-Tatiana/Inception/files/9869584/Docker-Cheat-Sheet-Cloud.pdf)
* [Основы Docker. Большой практический выпуск](https://www.youtube.com/watch?v=QF4ZF857m44)

</details>


